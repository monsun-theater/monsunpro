{{# The sites main navigation rendered on each page. It's 2 levels deep by default and uses AlpineJS for interactivity.
There's a desktop and a mobile version. #}}
{{# The desktop navigation. Hidden on smaller screen. Shown from md and up. #}}


{{# Navbar desktop #}}
<nav x-data="{ isOpen: false }" class="hidden sm:block">
    <div class="flex items-center justify-between border-b-2 px-2 pb-2">
        <div class="flex space-x-2">
            <button type="button" aria-label="Toggle Menu" @click="isOpen = !isOpen">
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg></button>
            <div>MENU</div>
        </div>
        <div><a aria-label="Logo {{ config:app:name }}" href="{{ site:url }}">
                <img class="h-14" src="/assets/site-setup/logos/monsun-logo-wordmark.svg" alt="{{ config:app:name }}" />
            </a></div>
        <div class="flex space-x-2">
            <div>SUCHE</div>
            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </div>
    </div>
    {{# Primary Menu Desktop #}}
    <div x-show="isOpen" class="hidden sm:block  bg-white">
        <div class="flex flex-col">
            <div>
                <div class="flex justify-between">
                    <ul class="flex items-start justify-left px-2 space-x-6">
                        {{ nav:top_menu_primary max_depth="2" }}
                        <li class="relative leading-none">
                            <a class="text-2xl flex font-bold uppercase tracking-wide hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                                {{ if children }} href="{{ url }}" {{ /if }}>
                                {{ title }}

                            </a>
                            {{ if children }}
                            <ul class="py-2 bg-white space-y-2">
                                {{ children }}
                                <li class="">
                                    <a class="whitespace-nowrap text-xs font-bold hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                                        href="{{ url }}">
                                        {{ title }}
                                    </a>
                                </li>
                                {{ /children }}
                            </ul>
                            {{ /if }}
                        </li>
                        {{ /nav:top_menu_primary }}
                    </ul>
                    {{# Social icons #}}

                    <div class="flex items-start justify-right px-2 py-2 space-x-4">
                        {{ social_media:social_media }}
                        <button type="button" aria-hidden="true">
                            <a href="{{ prefix }}{{ url }}" rel="noopener" aria-label="{{ type | title }}"
                                target="_blank">{{ type | title }}</a> <img class="h-12 w-12" {{ social_icon }}
                                src="{{ url }}" {{ /social_icon }} alt="{{ title }} Icon">
                            </a></button>{{ /social_media:social_media }}
                        <button @click="isOpen = false" type="button" aria-label="Close window" aria-hidden="true">
                            <svg class="h-12 w-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <path
                                    d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div>
                <ul class="flex items-center justify-right px-2 space-x-6">
                    {{ nav:top_menu_secondary max_depth="2" }}
                    <li class="relative leading-none">
                        <a class="text-2xl flex items-start font-bold uppercase tracking-wide hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                            {{ if children }} href="{{ url }}" {{ /if }}>
                            {{ title }}

                        </a>
                        {{ if children }}
                        <ul class="py-2 bg-white space-y-2">
                            {{ children }}
                            <li class="">
                                <a class="whitespace-nowrap text-xs font-bold hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                                    href="{{ url }}">
                                    {{ title }}
                                </a>
                            </li>
                            {{ /children }}
                        </ul>
                        {{ /if }}
                    </li>
                    {{ /nav:top_menu_secondary }}
                </ul>
            </div>
        </div>
    </div>
</nav>
{{# The mobile navigation. Hidden from md and up #}}
<nav class="sm:hidden" x-data="{ mobileNavOpen: false }">
    <button
        @click.prevent="mobileNavOpen = !mobileNavOpen, mobileNavOpen ? document.body.classList.add('no-scroll') : document.body.classList.remove('no-scroll')"
        class="fixed z-20 w-16 h-16 flex justify-center items-center right-0 bottom-0 mb-safe mr-8 bg-primary-500 text-white text-xs text-uppercase tracking-widest font-bold"
        aria-label="Toggle menu" x-text="mobileNavOpen ? 'Close' : 'Menu'"></button>

    <ul class="fixed z-10 inset-0 flex flex-col justify-center items-center space-y-8 bg-white overflow-auto"
        x-show="mobileNavOpen" x-cloak>
        {{ nav:main max_depth="2" include_home="true" }}
        <li {{ if children }} x-data="{ mobileNavSubnavOpen: false }" {{ /if }} class="leading-none">
            <a class="flex items-center font-bold uppercase tracking-wide hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                {{ if children }} href="#" @click.prevent="mobileNavSubnavOpen = true"
                @click.away="mobileNavSubnavOpen = false" {{ else }} href="{{ url }}" {{ /if }}>
                {{ title }}
                {{ if children }}
                <svg class="ml-1 w-2 text-neutral-800 stroke-current overflow-visible transform"
                    :class="{ 'rotate-180': mobileNavSubnavOpen }" aria-hidden="true" stroke-width="16"
                    viewBox="0 0 140 140">
                    <path d="M135.625 42.648l-62.533 62.527a4.37 4.37 0 01-6.184 0L4.375 42.648" fill="none"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                {{ /if }}
            </a>
            {{ if children }}
            <ul x-show="mobileNavSubnavOpen" class="mt-4 space-y-4" :aria-expanded="mobileNavSubnavOpen" x-cloak>
                {{ children }}
                <li>
                    <a class="whitespace-nowrap font-bold hover:text-monsun {{ is_current || is_parent ? 'text-monsun' : 'text-neutral-800' }}"
                        href="{{ url }}">
                        {{ title }}
                    </a>
                </li>
                {{ /children }}
            </ul>
            {{ /if }}
        </li>
        {{ /nav:main }}
    </ul>
</nav>